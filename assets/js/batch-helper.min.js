!function($){"use strict";var e;e={$form:$("#batch-form"),$btn:$("input[type=submit]","#batch-form"),$pre:$(".console","#batch-result"),reset:function(){this.$btn.attr("disabled",!1),this.$form.removeClass("loading"),$("#page_num").val("1")},execute:function(){e.$form.addClass("loading"),e.$btn.attr("disabled",!0),e.$pre.empty(),e.console("Start Processing..."),e.ajax()},ajax:function(){this.$form.ajaxSubmit({success:function(t){if(t.success)if(e.console(t.message),t.next){var a=$("#page_num");a.val(parseInt(a.val(),10)+1),e.ajax()}else e.console(WpametuBatch.done,"success"),e.reset();else e.addError(t.message),e.reset()},error:function(t,a,r){e.addError(r),e.reset()}})},console:function(e,t){var a=$("<p></p>");a.text(e),t&&a.addClass(t),this.$pre.append(a)},addError:function(e){this.console("[Error] "+e,"error")},setPage:function(e){$("#page_num").val(e)}},e.$form.submit(function(t){t.preventDefault(),$(this).find("input[name=batch_class]:checked").length?confirm(WpametuBatch.confirm)&&e.execute():e.addError(WpametuBatch.alert)})}(jQuery);