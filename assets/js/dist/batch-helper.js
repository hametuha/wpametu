/*! For license information please see batch-helper.js.LICENSE.txt */
!function(){const e=jQuery,t={$form:e("#batch-form"),$btn:e("input[type=submit]","#batch-form"),$pre:e(".console","#batch-result"),reset:function(){this.$btn.attr("disabled",!1),this.$form.removeClass("loading"),e("#page_num").val("1")},execute:function(){t.$form.addClass("loading"),t.$btn.attr("disabled",!0),t.$pre.empty(),t.console("Start Processing..."),t.ajax()},ajax:function(){this.$form.ajaxSubmit({success:function(s){if(s.success)if(t.console(s.message),s.next){const s=e("#page_num");s.val(parseInt(s.val(),10)+1),t.ajax()}else t.console(WpametuBatch.done,"success"),t.reset();else t.addError(s.message),t.reset()},error:function(e,s,a){t.addError(a),t.reset()}})},console:function(t,s){const a=e("<p></p>");a.text(t),s&&a.addClass(s),this.$pre.append(a)},addError:function(e){this.console("[Error] "+e,"error")},setPage:function(t){e("#page_num").val(t)}};t.$form.submit((function(s){s.preventDefault(),e(this).find("input[name=batch_class]:checked").length?confirm(WpametuBatch.confirm)&&t.execute():t.addError(WpametuBatch.alert)}))}();
//# sourceMappingURL=batch-helper.js.map